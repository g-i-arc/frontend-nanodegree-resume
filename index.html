<!DOCTYPE html>

<head>
  <!-- This tells the browser how to read the document. -->
  <meta charset="utf-8">
  <!-- Tells the browser what the title of this page should be. -->
  <title>Resume</title>
  <!-- Load the page styles. -->
  <link href="css/style.css" rel="stylesheet">
  <script src="js/jQuery.js"></script>
  <script src="js/helper.js"></script>

<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places"></script>

  <meta name="viewport" content="width=device-width">
</head>
<body>
  <div id="main"> 
    <div id="header" class="center-content clear-fix">
      <ul id="topContacts" class="flex-box"></ul>
    </div>
    <div style="clear: both;"></div>
    <div id="workExperience" class="gray">
      <h2>Work Experience</h2>
    </div>
    <div id="projects">
      <h2>Projects</h2>
    </div>
    <div id="education" class="gray">
      <h2>Education</h2>
    </div>
    <div id="mapDiv">
      <h2>Where I've Lived and Worked</h2>
    </div>
    <div id="lets-connect" class="dark-gray">
      <h2 class="orange center-text">Let's Connect</h2>
        <ul id="footerContacts" class="flex-box">
      </ul>
    </div>
    <div id="log"></div>
  </div>

  <!--
  The next line tells the browser where to download the JavaScript file you'll be
  writing. In resumeBuilder.js, you'll be writing code that builds the resume
  dynamically when this website, index.html, is opened.
  -->
  <script src="js/resumeBuilder.js"></script>


  <!--and it begins-->

  <script type="text/javascript">
    
$(document).click(function(loc){
  logClicks(loc.pageX, loc.pageY)
});
    if(document.getElementsByClassName('flex-item').length === 0) {
      document.getElementById('topContacts').style.backgroundcolor = '#000000';
    }
    if(document.getElementsByTagName('h1').length === 0) {
      document.getElementById('header').style.backgroundcolor = '#000000';
    }
    if(document.getElementsByClassName('work-entry').length === 0) {
      document.getElementById('workExperience').style.backgroundcolor = '#000000';
    }
    if(document.getElementsByClassName('project-entry').length === 0) {
      document.getElementById('projects').style.backgroundcolor = '#000000';
    }
    if(document.getElementsByClassName('education-entry').length === 0) {
      document.getElementById('education').style.backgroundcolor = '#000000';
    }
    if(document.getElementsByClassName('flex-item').length === 0) {
      document.getElementById('lets-connect').style.backgroundcolor = '#000000';
    }
    if(document.getElementById('map') === null) {
      document.getElementById('mapDiv').style.backgroundcolor = '#000000';
    }

bio.display = function(){
  //Header
  var name = HTMLheaderName.replace("%data%", bio.name)
  $("#header").append(name)
  var role = HTMLheaderRole.replace("%data%", bio.role)
  $("#header").append(role)

  //topContacts
  var contact = 0
  if(bio.contacts.length>0){
    var mobile = HTMLmobile.replace("%data%", bio.contacts[contact].mobile)
    var email = HTMLemail.replace("%data%", bio.contacts[contact].email)
    var twitter = HTMLtwitter.replace("%data%", bio.contacts[contact].twitter)
    var github = HTMLgithub.replace("%data%", bio.contacts[contact].github)
    var location = HTMLlocation.replace("%data%", bio.contacts[contact].location)
    var info = mobile + email + twitter + github + location
    $("#topContacts").append(info)
  }
  //Skills
     if(bio.skills.length>0){
      $("#header").append(HTMLskillsStart)
      for(var i = 0; i<bio.skills.length; i++){
      var formattedSkill = HTMLskills.replace("%data%",bio.skills[i])
      $("#skills").append(formattedSkill); 
      }
    }
  }

work.display = function(){
    if(work.jobs.length>0){
      for (job in work.jobs){
        $("#workExperience").append(HTMLworkStart)
        var employer = HTMLworkEmployer.replace("%data%", work.jobs[job].employer)
        var title = HTMLworkTitle.replace("%data%", work.jobs[job].title)
        var dates = HTMLworkDates.replace("%data%", work.jobs[job].dates)
        //var location = HTMLworkLocation.replace("%data%", work.jobs[job].location)
        var description = HTMLworkDescription.replace("%data%", work.jobs[job].description)
        var position = employer + title + dates + description
        $(".work-entry:last").append(position)
      }
    }
  }

project.display = function(){
  if(project.projects.length>0){
    for (stuff in project.projects){
      $("#projects").append(HTMLprojectStart)
      var title = HTMLprojectTitle.replace("%data%",project.projects[stuff].title)
      var dates = HTMLprojectDates.replace("%data%",project.projects[stuff].dates)
      var description = HTMLprojectDescription.replace("%data%",project.projects[stuff].description)
      var image = HTMLprojectImage.replace("%data%",project.projects[stuff].image)
      var final = title + dates + description + image
      $(".project-entry:last").append(final)
    }
  }
}

//function displayProjects(){}
education.display = function(){
  if(education.schools.length>0){
    for (school in education.schools){
      $("#education").append(HTMLschoolStart)
      var name = HTMLschoolName.replace("%data%", education.schools[school].name)
      var degree = HTMLschoolDegree.replace("%data%", education.schools[school].degree)
      var dates = HTMLschoolDates.replace("%data%", education.schools[school].dates)
      //var location = HTMLschoolLocation.replace("%data%", education.schools//[school].location)
      var major = HTMLschoolMajor.replace("%data%", education.schools[school].major)
      var course = name + degree + dates + major
      $(".education-entry:last").append(course)
    }
  }
}

function locationizer(work_obj) {
    var locations = [""]
    if(work_obj.jobs.length>0){
      for (job in work_obj.jobs){
          locations.push(work_obj.jobs[job].location)
      }
    }
    return locations
}

function inName(oldName) {
    var finalName = oldName;
    names = oldName.split(" ")
    names[1] = names[1].toUpperCase()
    names[0] = names[0].slice(0,1).toUpperCase() + names[0].slice(1).toLowerCase()
    finalName = names.join(" ")
    return finalName;
}

console.log(locationizer(work));
bio.display()
work.display()
project.display()
education.display()
$('#main').append(internationalizeButton)
//$("#mapDiv").append(googleMap)
  </script>
</body>
</html>